<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passbook - Arena</title>
    <!-- Main CSS-->
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <!-- Font-icon css-->
    <link rel="stylesheet" type="text/css"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body class="app sidebar-mini">
    <!-- NOTE: START: -->
    <!-- loader -->
    <div class="overlay"></div>
    <div class="spanner">
        <div class="loader"></div>
        <!-- <p>Uploading music file, please be patient.</p> -->
    </div>
    <!-- END: -->
    <!-- Navbar-->
    <header class="app-header"><a class="app-header__logo" href="#">Arena</a>
        <!-- Sidebar toggle button--><a class="app-sidebar__toggle" href="#" data-toggle="sidebar"
            aria-label="Hide Sidebar"></a>
        <!-- Navbar Right Menu-->
        <ul class="app-nav">
            <!-- User Menu-->
            <li><a class="app-nav__item" style="font-size: 15px;" href="#"><span
                        style="border: 1px solid white;padding: 3px;border-radius: 5px;"><img height="17px"
                            style="margin-top:-3px;" src="./assets/shapes/et_wallet.svg" alt="">&nbsp;<span
                            id="wallet_amount">0</span></span></a>
            </li>
        </ul>
    </header>
    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
        <div class="app-sidebar__user">
            <img class="app-sidebar__user-avatar"
                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAM1BMVEXk5ueutLfn6eqrsbTp6+zg4uOwtrnJzc/j5earsbW0uby4vcDQ09XGyszU19jd3+G/xMamCvwDAAAFLklEQVR4nO2d2bLbIAxAbYE3sDH//7WFbPfexG4MiCAcnWmnrzkjIRaD2jQMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMw5wQkHJczewxZh2lhNK/CBOQo1n0JIT74/H/qMV0Z7GU3aCcVPuEE1XDCtVLAhgtpme7H0s1N1U7QjO0L8F7llzGeh1hEG/8Lo7TUmmuSrOfns9xnGXpXxsONPpA/B6OqqstjC6Ax/0ujkNdYQQbKNi2k64qiiEZ+ohi35X+2YcZw/WujmslYewiAliVYrxgJYrdwUmwXsU+RdApUi83oNIE27YvrfB/ZPg8+BJETXnqh9CVzBbTQHgojgiCvtqU9thFJg/CKz3VIMKMEkIXxIWqIpIg2SkjYj+xC816mrJae2aiWGykxRNsW0UwiJghJDljYI5CD8GRiCtIsJxizYUPQ2pzItZy5pcisTRdk/a9m4amtNNfBuQkdVhSaYqfpNTSFGfb9GRIakrE2Pm+GFLaCQPqiu0OpWP+HMPQQcgQMiQprWXNmsVwIjQjYi/ZrhAqNTCgr2gu0Jnz85RSSjso0HkMFZ0YZjKkc26a/jlmh9JiDyDxi9oeorTYAzZkwwoMz19pzj9bnH/GP/+qbchjSGflneWYhtTuKdMOmNKZcJ5TjInQKcYXnESd/jQxy0ENpULTNGOGgxpap/oyw9pbUAqhfx2Dbkhovvfgz4iUzoM9+GlK6/Mh4q29hyC1mwro30hpVVLPF9wYQr71RazOeM5/cw81iBRD+A03aM9/C/obbrKjbYSpCmIVG3qT/Q8oeUo3Rz0IL7vI1tEbCB9pSiu8I/aV8x3Kg/BGWrWp4ZVs0nZfmAoEG4h/61yHYIJiFSl6Q0Vk6tTW1N8kYp8hdOkfHYYMXd2Qft+8CYwqYDSKvqIh+MCF8Wgca2u/cwdgeW3TtuVn6+1oBs3yLo5C2JpK6CvQzGpfUkz9UG/87gCsi5o2LIXolxN0FbwAsjOLEr+YJmXn7iR6N0BCt5p5cMxm7eAsfS+/CACQf4CTpKjzgkvr2cVarVTf96372yut7XLJ1sa7lv6VcfgYrWaxqr3Wlo1S6pvStr22sxOtTNPLzdY3nj20bPP+ejFdJYkLsjGLdtPBEbe/mr2bQKiXWJDroA+vtzc0p9aahuwqHMDYrQEXHEw9jwQl3drMpts9JBU1SdktPe5FBRdJQ6bwXBpa57ib2A8kukQDzMjh++Uo7Fo6Wd02Pkf4fknqoo4HtvAIjsqUcjx6DIPgWCaOML9rKI/oqD9/lgNrn+eF+p7j8tnzHBiR7+kdUGw/+V1Kzkc75mMy6U+FMaxjPibiM1U1uGM+puInHpmALZCgP4pt7i840MV8+0R1zPsRB6UTcqpizncYwZ89syDydfyWCwXB1l8/zRNGWbTG/GHKUm9AkxHMc/EGSk3z2+ArEhPEV5TUBLEvUGFcjEUH80J/jveTGOAJEljJbILWGQT3zRYiwuKsUXN1EEJAzBhRJFll7mBUG7KD8EqPkKekBREaL8hMDZLQSG6AQjtHPYmvTQnX0TtpC1SYCe2YdkkyLP3jj5BSbKiuR585eQhTgoje6yIb0Yb0C+mV6EYvebqw5SDy2WmubogZiF2AVxPC2FpDf8H2Q9QWo6IkjUxTWVEI3WY/wrCeSuqJ+eRWzXR/JXwgVjUMozbCOfoEZiSiKVGepqv5CJ8RyR4D7xBeamqa7z3BJ/z17JxuBPdv93d/a2Ki878MMAzDMAzDMAzDMAzDMF/KP09VUmxBAiI3AAAAAElFTkSuQmCC"
                alt="User Image">
            <p class="app-sidebar__user-name" id="side_bar_username_id"></p>
            <p class="app-sidebar__user-designation" id="side_bar_usernumber_id"></p>
            <a href="profile.html"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit Profile</a>
        </div>
        <ul class="app-menu">
            <li><a class="app-menu__item" href="home.html"><i class="app-menu__icon fa fa-home"></i><span
                        class="app-menu__label">Home</span></a>
            </li>
            <li><a class="app-menu__item" href="game-rate.html"><i class="app-menu__icon fa  fa-inr"></i><span
                        class="app-menu__label">Game Rate</span></a>
            </li>
            <li class="treeview"><a class="app-menu__item" href="#" data-toggle="treeview"><i
                        class="app-menu__icon fa fa-history"></i><span class="app-menu__label">History</span><i
                        class="treeview-indicator fa fa-angle-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" href="bid-history.html"><i class="icon fa fa-circle-o"></i>Bidding
                            History</a></li>
                    <li><a class="treeview-item" href="win-history.html"><i class="icon fa fa-circle-o"></i>Winning
                            History</a>
                    </li>
                    <li><a class="treeview-item" href="deposite-history.html"><i class="icon fa fa-circle-o"></i>Deposit
                            History</a>
                    </li>
                    <li><a class="treeview-item" href="withdrawal.html"><i class="icon fa fa-circle-o"></i>Withdrawal
                            History</a>
                    </li>
                </ul>
            </li>

            <li class="treeview"><a class="app-menu__item" href="#" data-toggle="treeview"><i
                        class="app-menu__icon fa fa-handshake-o"></i><span class="app-menu__label">Help</span><i
                        class="treeview-indicator fa fa-angle-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" href="how-to-play.html"><i class="icon fa fa-circle-o"></i>How to
                            Play</a></li>

                    <li><a class="treeview-item" href="rules.html"><i class="icon fa fa-circle-o"></i>Notice board /
                            Rules</a></li>
                </ul>
            </li>
            <li><a class="app-menu__item" href="contact-us.html"><i class="app-menu__icon fa fa-headphones"></i><span
                        class="app-menu__label">Contact Us</span></a></li>
            <li><a class="app-menu__item" href="share.html"><i class="app-menu__icon fa fa-share-alt"></i><span
                        class="app-menu__label">Share with Friends</span></a></li>
            <li><a class="app-menu__item" href="#" onclick="signOut()"><i
                        class="app-menu__icon fa fa-sign-out"></i><span class="app-menu__label">Logout</span></a></li>
        </ul>
    </aside>
    <main class="app-content">
        <div style="background:none;"
            class="transaction_list_top_section d-flex justify-content-around align-items-center ">
            <img src="./assets/images/passbook.png" alt="">
            <div style="border-color: white;">
                <p>Total Balance</p>
                <p class="money">â‚¹<span id="passbook_id">0</span></p>
                <script>
                    let wallet_balanceN = localStorage.getItem('vcds')
                    if (wallet_balanceN) {
                        document.getElementById('passbook_id').innerHTML = wallet_balanceN
                    }
                </script>
            </div>
        </div>
        <div class="row d-flex justify-content-around">
            <div class="col-5 d-flex align-items-center p-0"
                style="border-radius: 6px; height: 50px;color:black;background:white" data-toggle="modal"
                data-target="#add_money_modal">
                <div class="d-flex justify-content-center align-items-center "
                    style="background:#1AC16A;height: 100%;width: 42px;border-radius: 6px 0px 0px 6px;">
                    <img src="./assets/images/passbook-add.png" alt="">
                </div>
                <div class="d-flex justify-content-center align-items-center pt-2"
                    style="height:100%;width: calc(100% - 42px);">
                    <h5>Add</h5>
                </div>
            </div>
            <div class="col-5 d-flex align-items-center p-0"
                style="border-radius: 6px;height: 50px;color:black;background:white">
                <div class="d-flex justify-content-center align-items-center"
                    style="background:#FFCA28;height: 100%;width: 42px;border-radius: 6px 0px 0px 6px;">
                    <img src="./assets/images/passbook-withdrawal.png" alt="">
                </div>
                <div class="d-flex justify-content-center align-items-center  text-center pt-2"
                    style="height:100%;width: calc(100% - 42px) ;">
                    <h5>Withdrawal</h5>
                </div>
            </div>
        </div>
        <div class="transaction_main_container">
            <h4>Transaction Details</h4>
            <div class="transaction_content_container" style="height: calc(100vh - 310px);" id="transaction_container">

            </div>
        </div>
        <!-- add money modal modal -->
        <div class="modal fade" id="add_money_modal" role="dialog">
            <div class="modal-dialog  modal-dialog-centered ">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Add Money<br />
                            <p style="text-align:left; font-size:13px;font-weight:500;">
                            <p>
                        </h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal" id="uploadPreAssessmentId">
                            <div class="form-group row">
                                <label class="control-label col-md-3">Amount</label>
                                <div class="col-md-8">
                                    <input class="form-control" type="text" placeholder="-" id="add_game_name"
                                        oninput="this.value=this.value.replace(/[^0-9]/g,'');">
                                </div>
                            </div>
                            <div class="modal-footer " style="justify-content: center;margin-top:20px;">
                                <button class="btn btn-success" type="button" onclick="addMoney()">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </main>
    <!-- Essential javascripts for application to work-->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script src="./js/globalFunction.js"></script>
    <script type="text/javascript">
        authenticate()
        let cookieData = getCookie("user_jwt");
        let username = document.getElementById('side_bar_username_id')
        let usernumber = document.getElementById('side_bar_usernumber_id')
        if (cookieData) {
            username.innerText = cookieData?.name
            usernumber.innerText = cookieData?.user_phonenumber
        }
        window.onload = function () {
            updateWallet()
            startLoader()
            axiosInstance.get('statement').then((response) => {
                endLoader()
                if (response.status === 200) {
                    let transactionList = response.data.msg
                    let transaction_container = document.getElementById('transaction_container')
                    transaction_container.innerHTML = ''
                    for (let i = 0; i < transactionList.length; i++) {
                        const element = transactionList[i];
                        if (element?.transaction_type === "deposit") {
                            transaction_container.innerHTML = transaction_container.innerHTML +
                                `
                        <div class="transaction_card">
                        <div class="transaction_avatar_div withdrawal_avatar" style="background-color: #0FD16B;">
                            <i class="fa fa-plus" aria-hidden="true"></i>
                        </div>
                        <div
                            style="flex-basis: 85%;display: flex; justify-content: space-between;border-bottom: 1px solid gray;padding-bottom: 5px;">
                            <div>
                                <h6>${element?.transaction_name}</h6>
                                <small>20 Apr, 12:39 PM</small>
                            </div>
                            <div>
                                <p class="float-right"><b>+ â‚¹${element?.transaction_amount}</b><img src="./assets/shapes/clarity_wallet-line.svg"
                                        class="ml-1" height="14px" alt=""></p>
                                <p style="margin-top: -8px;font-size: 11px;font-weight: 500;">Balance : 654</p>
                            </div>
                        </div>
                        </div>
                        `
                        } else {
                            transaction_container.innerHTML = transaction_container.innerHTML +
                                `
                        <div class="transaction_card">
                        <div class="transaction_avatar_div withdrawal_avatar">
                            <i class="fa fa-minus" aria-hidden="true"></i>
                        </div>
                        <div
                            style="flex-basis: 85%;display: flex; justify-content: space-between;border-bottom: 1px solid gray;padding-bottom: 5px;">
                            <div>
                                <h6>${element?.transaction_name}</h6>
                                <small>20 Apr, 12:39 PM</small>
                            </div>
                            <div>
                                <p class="float-right"><b>- â‚¹${element?.transaction_amount}</b><img src="./assets/shapes/clarity_wallet-line.svg"
                                        class="ml-1" height="14px" alt=""></p>
                                <p style="margin-top: -8px;font-size: 11px;font-weight: 500;">Balance : 654</p>
                            </div>
                        </div>
                        </div>
                        `
                        }
                    }


                } else {
                    $.notify({
                        title: "",
                        message: response.data?.msg,
                        icon: 'fa fa-times'
                    }, {
                        type: "danger",
                    });
                }
                console.log(response)
            }, (error) => {
                console.log('error', error);
                endLoader()
                $.notify({
                    title: "",
                    message: `Something went wrong! Please try again.`,
                    icon: 'fa fa-times'
                }, {
                    type: "danger"
                });
            })
        }
    </script>
    <!-- control tab click -->
    <script>
        function updateTab(type) {
            let ongoing_tab = document.getElementById('ongoing_tab')
            let upcoming_tab = document.getElementById('upcoming_tab')
            let ongoing_tab_content = document.getElementById('ongoing_tab_content');
            let upcoming_tab_content = document.getElementById('upcoming_tab_content')
            if (type == 'ongoing') {
                ongoing_tab_content.className = 'd-flex justify-content-center flex-column'
                upcoming_tab_content.className = 'd-none'
                ongoing_tab.className = 'active_tab_dashboard'
                upcoming_tab.className = ''
            } else {
                ongoing_tab_content.className = 'd-none'
                upcoming_tab_content.className = 'd-flex justify-content-center flex-column'
                ongoing_tab.className = ''
                upcoming_tab.className = 'active_tab_dashboard'
            }
        }
    </script>
</body>

</html>